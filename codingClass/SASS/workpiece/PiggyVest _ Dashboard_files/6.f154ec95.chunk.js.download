(this["webpackJsonppiggyvest-customer-dashboard"]=this["webpackJsonppiggyvest-customer-dashboard"]||[]).push([[6],{538:function(e,t,a){"use strict";var n=a(3),c=a(13),r=a.n(c),l=a(0),i=a.n(l);t.a=function(e){var t=e.categories,a=e.onCategorySelect,c=void 0===a?function(){}:a,o=e.addAll,s=void 0===o||o,m=e.categoryIsActive,u=void 0===m?function(){return!1}:m,d=e.activeClassName,b=void 0===d?"":d,f=e.activeStyle,v=void 0===f?{}:f,g=e.containerClassName,p=void 0===g?"":g,O=Object(l.useMemo)((function(){return(s?[{id:"all",name:"All"}]:[]).concat(t)}),[t,s]);return i.a.createElement("div",{className:r()(p,"mx-4 overflow-x-auto")},i.a.createElement("ul",{className:"flex mb-4 mt-1 mx-1"},O.map((function(e){var t=e.id,a=e.name,l=e.className,o=e.style;return i.a.createElement("li",{key:t,className:r()("mr-3 last:mr-0 whitespace-no-wrap")},i.a.createElement("button",{type:"button",className:r()(l,"font-body px-4 rounded-t-sm rounded-br-sm",u(t)?r()(b,"shadow-inner focus:shadow-inner"):"border text-gray-800"),style:Object(n.a)({},o,{},u(t)&&v),onClick:function(){c(t)}},a))}))))}},540:function(e,t,a){"use strict";var n=a(7),c=a(13),r=a.n(c),l=a(0),i=a.n(l),o=a(227),s=function(e){var t=e.responsive,a=e.className,c=e.children,l=e.notice,s=l.text,m=l.title,u=Object(n.a)(l,["text","title"]);return i.a.createElement(i.a.Fragment,null,s&&i.a.createElement(o.a,Object.assign({message:s,title:m,className:"mx-4 md:mx-12"},u)),i.a.createElement("main",{className:r()("mx-4 md:mx-12",a,{"flex flex-col lg:flex-row flex-shrink-0":t},a)},c))};s.defaultProps={responsive:!0,className:"",notice:{}},t.a=s},548:function(e,t,a){"use strict";var n=a(5),c=a.n(n),r=a(0),l=a.n(r),i=a(25),o=a(78),s=a(547),m=a(34),u=a(43),d=a(223),b=a(552),f=function(e){var t=e.investId,a=e.className,n=e.children,c=Object(b.a)(t),f=Object(i.d)(Object(d.b)(t)),v=Object(i.c)(),g=Object(r.useCallback)((function(){return t?v(u.a.fetchInvestmentRequest(t)):Promise.resolve()}),[v,t]);return l.a.createElement(s.a.Provider,{value:{pageData:f,reload:g}},l.a.createElement(o.a,{className:a,to:m.a[c]},n))};f.propsTypes={investId:c.a.string.isRequired,className:c.a.string,children:c.a.node.isRequired},f.defaultProps={className:""},t.a=f},549:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(25),l=a(54),i=a(48),o=a(78),s=a(34),m=a(36),u=a(155),d=a(553);t.a=function(e){var t=e.id,a=e.children,b=void 0===a?null:a,f=e.className,v=void 0===f?"":f,g=Object(l.i)(),p=Object(r.c)(),O=Object(d.b)(t),h=Object(n.useMemo)((function(){if(!t)return"";var e="ViewTarget-".concat(t),a=Object(d.a)(g.url,t);return Object(s.b)(e,a,{headerColor:i.targets,getRawPageData:Object(u.b)(t),loadRawPageData:function(){return p(m.a.fetchTargetRequest(t))},transformRawPageData:O}),e}),[t,g.url,O,p]);return c.a.createElement(o.a,{to:s.a[h],className:v},b)}},550:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(78),l=a(537),i=a(27),o=a(548),s=a(549);t.a=function(e){var t=e.banner,a=e.className,m=void 0===a?"":a,u=Object(i.h)(),d=null!==t&&void 0!==t?t:{},b=d.name,f=d.image,v=d.link,g=Object(n.useMemo)((function(){var e;return u(null!==(e=null===v||void 0===v?void 0:v.link)&&void 0!==e?e:v)}),[u,v]);if(!t)return null;var p,O=c.a.createElement("img",{src:f,alt:"Welcome to PiggyVest",className:"rounded"});return g.state.target_id?p=c.a.createElement(s.a,{id:g.state.target_id},O):g.state.id&&"InvestPage"===g.state.routeId?p=c.a.createElement(o.a,{investId:g.state.id},O):(console.log(t),console.log(g),p=c.a.createElement(r.a,{to:g},O)),c.a.createElement(l.a,{className:m},c.a.createElement(l.a.Header,{title:b}),p)}},557:function(e,t,a){"use strict";var n=a(3),c=a(0),r=a.n(c),l=a(54),i=a(29),o=a(118),s=a(27),m=a(19),u=a(34),d=a(8),b=a(7),f=a(25),v=a(22),g=a(156),p=a(80),O=a(95),h=a(96),j=a(35),E=function(e){var t=e.values,a=e.handleClose,l=Object(f.d)(O.b).methods,s=Object(c.useContext)(o.a).openModal,u=Object(c.useContext)(p.a).reload,E=Object(c.useContext)(g.a),w=E.show,y=E.hide;l=Object(c.useMemo)((function(){return Object.values(l).map((function(e){var a=e.methodId,c=Object(b.a)(e,["methodId"]),r="";return"bank"===a?r="Pay?title=Use Bank&subTitle=Quicksave via a secure direct bank debit.&type=bank&successText=Quick save successful&wallet=".concat(t.wallet):"card"!==a&&"newcard"!==a||(r="Pay?title=Save Now&subTitle=Quicksave with a new card.&type=card&successText=Quick save successful&wallet=".concat(t.wallet)),Object(n.a)({methodId:a,link:r},c)}))}),[l,t.wallet]);var x=Object(c.useState)(!1),N=Object(d.a)(x,2),k=N[0],C=N[1],S=Object(c.useCallback)((function(e,n){return function(){null===s||void 0===s||s(i.c.CONFIRMATION_MODAL,{headerTitle:e.payText,headerDescription:"You are about to quicksave ".concat(Object(m.e)(t.amount)," using the selected payment method."),action:function(){C(!0),null===w||void 0===w||w(),v.a.post("/quick_save",{forminfo:n,verified:1},{alertErrorMessage:!0}).then((function(e){null===y||void 0===y||y(),1===e.status&&s(i.c.ALERT_MODAL,{title:"Success",description:e.message,onClose:function(){null===u||void 0===u||u(),Object(m.m)(),a()}}),C(!1)}))}})}}),[u,s,t.amount,a,w,y]);return k?r.a.createElement(j.a,{showMessage:!0}):r.a.createElement("div",{className:"mb-4 px-6 md:px-8 overflow-y-auto"},l.map((function(e){var a=e.name,c=e.image,l=e.id,i=e.link,o=e.methodId;return r.a.createElement(h.a,{key:l,imageLeft:c,title:{text:a},containerClassName:"p-4 mb-4 w-full",link:"".concat(i,"&amount=").concat(t.amount),as:"button",onClick:S(e,Object(n.a)({},t,{method:o})),disabled:k})})))};a.d(t,"a",(function(){return w}));var w=function(){var e=Object(l.i)(),t=Object(s.b)("quicksaveform_wallets").formFields,a=void 0===t?[]:t,d=Object(c.useContext)(o.a).openModal;Object(c.useMemo)((function(){Object(u.b)("QuickSave",Object(m.c)(e.url,"quicksaveform_wallets"),{headerTitle:"Quick Save",headerDescription:"Enter an amount and a destination to save to",formData:a,formProps:{submitText:"Proceed"},submit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.handleClose,c=e.amount;if(c=Number(c)){var l=e.wallet;if(l){if(d)var o=d(i.c.LIGHT_BOX,{headerTitle:"Select Payment Option",headerDescription:"Click any of the options below to quick save immediately",content:r.a.createElement(E,{values:Object(n.a)({amount:c},e),handleClose:function(){o(),null===a||void 0===a||a()}}),useBack:!0,showOverlayBackgroundColor:!1,overlayStyle:{zIndex:300}})}else m.a.error("Please select a destination to QuickSave and try again")}else m.a.error("Please enter an amount to proceed")}})}),[e.url,a,d])}},569:function(e,t,a){"use strict";a.r(t);var n=a(8),c=a(0),r=a.n(c),l=a(25),i=a(54),o=a(537),s=function(e){return r.a.createElement(o.a,null,r.a.createElement(o.a.Header,{title:"Download the Mobile App"}),r.a.createElement("div",e,r.a.createElement("a",{href:"https://www.piggyvest.com/appstorelink/ios",target:"__blank",rel:"noreferrer noopener",className:"w-1/2-2"},r.a.createElement("img",{src:"https://www.piggyvest.com/images/iosbadge-101-image.png",alt:"iOS Logo"})),r.a.createElement("a",{href:"https://www.piggyvest.com/appstorelink/android",target:"__blank",rel:"noreferrer noopener",className:"w-1/2-2"},r.a.createElement("img",{src:"https://www.piggyvest.com/images/google-play-badge.png",alt:"Android Logo"}))))},m=a(7),u=a(14),d=a(32),b=a(95),f=a(169),v=a(35),g=a(229),p=Object(u.createAsyncSelector)([d.a.fetchPageRequest.toString()]),O=function(e){var t=e.pageId,a=Object(m.a)(e,["pageId"]),n=(Object(l.d)(Object(b.c)(t))||{}).pagedata,i=Object(l.d)(p),o=i.loading,s=i.error,u=Object(l.c)();return Object(c.useEffect)((function(){u(d.a.fetchPageRequest(t))}),[u,t]),n?r.a.createElement(g.a,Object.assign({pageData:n},a)):o?r.a.createElement(v.a,null):s?r.a.createElement(f.a,null):null},h=a(540),j=a(29),E=a(118),w=a(110),y=a(19),x=a(134),N=a(58),k=a(225),C=a(550),S=a(3),T=a(61),L=a(96),I=a(112),A=a(557),R=a(34),M=function(){Object(A.a)();var e=Object(l.d)(b.b).pageinfo.carddata;return r.a.createElement(o.a,null,r.a.createElement(o.a.Header,{uppercase:!1,title:r.a.createElement("span",{className:"inline-flex items-center"}," ",r.a.createElement("a",{href:" ",className:"text-blue-700 mr-4"},r.a.createElement(I.a,{type:"fa",name:"refresh",size:20,className:"px-2",color:"#333"})))},r.a.createElement(T.a,{size:"md",as:"Link",to:R.a.QuickSave},"+ Quick Save")),r.a.createElement("main",null,r.a.createElement("ul",{className:"flex justify-between overflow-x-auto"},e.map((function(e){var t=e.cardid;return r.a.createElement("li",{key:t,className:"flex-1 mr-4 md:mr-6 last:mr-0"},r.a.createElement(L.a,Object.assign({},Object(S.a)({},e,{subTitle:Object(S.a)({},e.subTitle,{minWidth:"8rem"}),iconLeft:Object(S.a)({},e.iconLeft,{size:32,marginRight:"1rem"})}),{titleClassName:"opacity-75 font-body text-sm whitespace-no-wrap",subTitleClassName:"font-display text-xl",containerClassName:"pl-4 md:py-8 py-4 pr-16 md:pr-12"})))})))))},P=a(27),q=a(267),D=a(538),_=Object(u.createLoadingSelector)([N.a.fetchUserActivitiesRequest.toString()]),Q=function(e){var t=e.className,a=void 0===t?"":t,i=e.maxLength,o=void 0===i?0:i,s=e.showLoader,m=void 0===s||s,u=e.showCategories,d=void 0!==u&&u,f=Object(l.d)(k.c),g=Object(l.d)(b.b).activity_categories,p=Object(l.d)(_),O=Object(P.d)(f.length),h=Object(c.useMemo)((function(){var e={};return g.forEach((function(t){e[t.id]=t})),e}),[g]),j=Object(c.useMemo)((function(){return g.map((function(e){return{id:e.id,name:e.title,style:{color:e.titleColor}}}))}),[g]),E=Object(c.useState)(g[0]),w=Object(n.a)(E,2),y=w[0],x=w[1],N=Object(c.useMemo)((function(){var e=o?f.slice(0,o):f;return(e=y.id?e.filter((function(e){return e.type===y.id})):e).map((function(e,t){return Object(S.a)({},e,{id:O[t]})}))}),[f,O,o,y.id]);return r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(D.a,{categories:j,containerClassName:"flex-shrink-0 mx-6 md:mx-8",activeStyle:{backgroundColor:y.activeColor,color:"white"},addAll:!1,categoryIsActive:function(e){return e===y.id},onCategorySelect:function(e){x(h[e])}}),r.a.createElement(q.a,{containerClassName:a,listData:N},m&&p&&r.a.createElement(v.a,{className:"my-8"})))};Object(R.b)("Activity",Object(y.c)("/","activities"),{headerTitle:"Recent Activities",headerDescription:"This shows the most recent activities across your piggyvest account",content:r.a.createElement((function(){var e=Object(l.c)();return Object(c.useEffect)((function(){e(N.a.fetchUserActivitiesRequest())}),[e]),r.a.createElement(Q,{className:"px-6 md:px-8 pb-6 md:pb-10 overflow-y-scroll",showCategories:!0})}),null)});var H=function(){return r.a.createElement(o.a,null,r.a.createElement(o.a.Header,{title:"Recent Activities"}),r.a.createElement("main",null,r.a.createElement(Q,{maxLength:5,showLoader:!1}),r.a.createElement(T.a,{className:"mx-auto",variant:"secondary",as:"Link",to:R.a.Activity},"View more activities")))},B=function(){var e,t=null!==(e=Object(l.d)(k.d))&&void 0!==e?e:[],a=Object(P.d)(t.length);return 0===t.length?null:r.a.createElement(o.a,null,r.a.createElement(o.a.Header,{title:"To-Do List"}),r.a.createElement("main",null,t.map((function(e,t){return r.a.createElement(L.a,Object.assign({},Object(S.a)({},e,{iconLeft:Object(S.a)({},e.iconLeft,{marginRight:"0.75rem"})}),{key:a[t],titleClassName:"font-body text-gray-700",containerClassName:"py-4 px-4 mb-3"}))}))))};t.default=Object(w.a)([function(){return x.a.dispatch(N.a.fetchUserTodosRequest())},function(){return x.a.dispatch(N.a.fetchUserActivitiesRequest({limit:10}))}],{shouldShowLoader:function(){return!Object(k.c)(x.a.getState())||!Object(k.d)(x.a.getState())}})((function(){var e=Object(l.d)(b.b),t=e.homebanner,a=e.hometopbanner;return function(){var e=Object(c.useContext)(E.a).openModal,t=Object(i.i)(),a=Object(i.g)(),l=Object(i.h)(),o=Object(c.useMemo)((function(){var e=Object(y.l)(l.search),t=Object(n.a)(e,2)[1],a=(t=void 0===t?{}:t).p;return void 0===a?"":a}),[l.search]);Object(c.useEffect)((function(){if(o&&e)var t=e(j.c.LIGHT_BOX,{content:r.a.createElement(O,{pageId:o,handleClose:function(){t()}})})}),[e,o,t.url,a])}(),r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{responsive:!1},r.a.createElement(M,null),r.a.createElement("div",{className:"flex md:hidden flex-col"},r.a.createElement("div",{className:"w-full md:w-2/3 md:mr-12"},r.a.createElement(B,null),r.a.createElement(s,{className:"flex justify-between"}),r.a.createElement(C.a,{banner:t}),r.a.createElement(H,null)),r.a.createElement("div",{className:"w-full md:w-1/3 order-first md:order-none"},r.a.createElement(C.a,{banner:a}))),r.a.createElement("div",{className:"hidden md:flex md:flex-row"},r.a.createElement("div",{className:"w-full md:w-2/3 md:mr-12"},r.a.createElement(B,null),r.a.createElement(H,null)),r.a.createElement("div",{className:"w-full md:w-1/3 order-first md:order-none"},r.a.createElement(C.a,{banner:a}),r.a.createElement(s,{className:"flex justify-between"}),r.a.createElement(C.a,{banner:t})))))}))}}]);